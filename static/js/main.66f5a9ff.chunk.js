(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/header.ed2c53ad.jpg"},27:function(e,t,a){e.exports=a(42)},32:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),u=a(13),o=a(1),i=(a(32),a(20)),s=a.n(i);var m=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"title"},"Planets"),r.a.createElement("img",{src:s.a,alt:"planets",width:"50%"}),r.a.createElement("h1",{className:"title"},"Star Wars"))},f=a(7),d=Object(n.createContext)();var p=function(e){var t=e.children,a=Object(n.useState)([]),l=Object(f.a)(a,2),c=l[0],u=l[1],o=Object(n.useState)(""),i=Object(f.a)(o,2),s=i[0],m=i[1],p=Object(n.useState)([]),b=Object(f.a)(p,2),E=b[0],v=b[1],h=Object(n.useState)({column:"name",sort:"ASC"}),N=Object(f.a)(h,2),j={data:c,filters:{filterByName:{name:s},filterByNumericValues:E,order:N[0]},setName:m,setPlanets:u,setFiltersValues:v,setOrder:N[1]};return r.a.createElement(d.Provider,{value:j},t)},b=a(21),E=a(22),v=a(26),h=a(25),N=a(11),j=a(3);var O=function(){var e=Object(n.useState)({column:"name",sort:"ASC"}),t=Object(f.a)(e,2),a=t[0],l=t[1],c=Object(n.useContext)(d),u=c.setOrder,o=c.data;return r.a.createElement("fieldset",{className:"fieldset-sort"},r.a.createElement("legend",null,"Sort"),r.a.createElement("label",{htmlFor:"selectSort"},"Column ",r.a.createElement("select",{id:"selectSort",value:a.name,"data-testid":"column-sort",className:"select-column-sort",onChange:function(e){return l(Object(j.a)(Object(j.a)({},a),{},{column:e.target.value}))}},o.length>0&&Object.keys(o[0]).map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("label",{htmlFor:"inputRadioAsc"},r.a.createElement("input",{className:"input-radio","data-testid":"column-sort-input-asc",id:"inputRadioAsc",type:"radio",name:"sort",value:"ASC",onClick:function(e){return l(Object(j.a)(Object(j.a)({},a),{},{sort:e.target.value}))}}),"Upward"),r.a.createElement("label",{htmlFor:"inputRadioDesc"},r.a.createElement("input",{className:"input-radio","data-testid":"column-sort-input-desc",id:"inputRadioDesc",type:"radio",name:"sort",value:"DESC",onClick:function(e){return l(Object(j.a)(Object(j.a)({},a),{},{sort:e.target.value}))}}),"Downward"),r.a.createElement("button",{"data-testid":"column-sort-button",className:"btn-sort",type:"button",onClick:function(){return u(a)}},"Sort"))};function g(e,t,a,n){var l,c,u=a.column,o=a.comparison,i=a.value,s=t.filterByNumericValues,m=["population","orbital_period","diameter","rotation_period","surface_water"];return r.a.createElement("fieldset",{className:"fieldset-filter"},r.a.createElement("legend",null,"Filters"),r.a.createElement("div",{className:"container-inputs"},r.a.createElement("label",{htmlFor:"select-column"},"Column ",r.a.createElement("select",{value:u,onChange:function(e){return n(Object(j.a)(Object(j.a)({},a),{},{column:e.target.value}))},"data-testid":"column-filter",id:"select-column"},m.filter((function(e){return!s.some((function(t){return t.column===e}))})).map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("label",{htmlFor:"select-comparison"},"Comparison ",r.a.createElement("select",{value:o,onChange:function(e){return n(Object(j.a)(Object(j.a)({},a),{},{comparison:e.target.value}))},"data-testid":"comparison-filter",id:"select-comparison"},r.a.createElement("option",null,"bigger then"),r.a.createElement("option",null,"smaller then"),r.a.createElement("option",null,"equal"))),r.a.createElement("label",{htmlFor:"input-filter"},"Value ",r.a.createElement("input",{className:"input-value",value:i,onChange:function(e){return n(Object(j.a)(Object(j.a)({},a),{},{value:e.target.value}))},"data-testid":"value-filter",id:"input-filter",type:"number"})),r.a.createElement("button",{className:"btn-filter","data-testid":"button-filter",disabled:!u||!o||!i,onClick:function(){e([].concat(Object(N.a)(s),[a])),n({column:m.filter((function(e){return![].concat(Object(N.a)(s),[a]).some((function(t){return t.column===e}))}))[0],comparison:"bigger then",value:""})},type:"button"},"+Filter")),(c=e,(l=s).map((function(e){return r.a.createElement("div",{className:"container-list-filters","data-testid":"filter",key:e.column},r.a.createElement("p",null,"+ ".concat(e.column," ").concat(e.comparison," ").concat(e.value," ")),r.a.createElement("button",{className:"btn-delete-filter",onClick:function(){return c(l.filter((function(t){return t.column!==e.column})))},type:"button"},"\u2717"))}))))}var C=function(){var e=Object(n.useState)({column:"population",comparison:"bigger then",value:""}),t=Object(f.a)(e,2),a=t[0],l=t[1],c=Object(n.useContext)(d),u=c.setName,o=c.setFiltersValues,i=c.filters;return r.a.createElement("div",{className:"container-filters-main"},function(e){return r.a.createElement("input",{className:"input-planet","data-testid":"name-filter",id:"inputSearch",onChange:function(t){return e(t.target.value)},placeholder:"Insert Planet \ud83d\udd0d"})}(u),r.a.createElement("div",{className:"container-filters"},r.a.createElement(O,null),g(o,i,a,l)))};var y=function(){return r.a.createElement("div",{className:"container-footer"},r.a.createElement("p",{className:"footer-company"},"ADC - Azevedo Digital Company / CNPJ: 39.324.590/0001-43 / Rua Cleonice Ap. Cruz K. Thielle, 350 - Mogi Gua\xe7\xfa, SP / rafaelazevedo321@gmail.com"))};function k(e,t){return e<t?-1:t>e?1:0}function x(e,t){var a=t.column;return"ASC"===t.sort?e.sort((function(e,t){return Number(e[a])?e[a]-t[a]:k(e[a],t[a])})):e.sort((function(e,t){return Number(e[a])?t[a]-e[a]:k(t[a],e[a])}))}function S(e){return e.length>0?r.a.createElement("div",{className:"table-info"},(t=Object.keys(e[0]),r.a.createElement("tr",{className:"cell-title"},t.map((function(e){return r.a.createElement("th",{key:e},e)})),r.a.createElement("th",null,"INFO"))),e.map((function(e){return t=Object.values(e),r.a.createElement("tr",{className:"cell-info"},t.map((function(e,t){return 0===t?r.a.createElement("td",{"data-testid":"planet-name",className:"cell-table",key:e},e):r.a.createElement("td",{className:"cell-table",key:e},e)})),r.a.createElement("td",{className:"cell-table"},r.a.createElement(u.b,{className:"link-info",to:"/info-planet"},"More")));var t}))):r.a.createElement("span",null,"Planets not found");var t}function w(e,t){var a;return t.filterByNumericValues.forEach((function(t){var n=t.column,r=t.comparison,l=t.value;switch(r){case"smaller then":a=a?a.filter((function(e){return Number(e[n])<Number(l)})):e.filter((function(e){return Number(e[n])<Number(l)}));break;case"bigger then":a=a?a.filter((function(e){return Number(e[n])>Number(l)})):e.filter((function(e){return Number(e[n])>Number(l)}));break;default:a=a?a.filter((function(e){return Number(e[n])===Number(l)})):e.filter((function(e){return Number(e[n])===Number(l)}))}})),a}var F=function(){var e=Object(n.useContext)(d),t=e.data,a=e.filters,l=a.filterByNumericValues,c=a.order,u=a.filterByName.name,o=Object(N.a)(t);if(o.forEach((function(e){delete e.residents,delete e.films,delete e.created,delete e.edited,delete e.url})),o.length>0){if(u){var i=function(e,t){return e.filter((function(e){var a=e.name.toUpperCase(),n=t.toUpperCase();return a.includes(n)}))}(o,u);return l.length>0?S(x(w(i,a),c)):S(x(i,c))}return l.length>0?S(x(w(o,a),c)):S(x(o,c))}return r.a.createElement("span",null,"Loading Planets...")},A=a(17),P=a.n(A),B=a(24),D=function(){var e=Object(B.a)(P.a.mark((function e(){var t,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://swapi-trybe.herokuapp.com/api/planets/");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this.context.setPlanets;D().then((function(t){return e(t.results)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(m,null),r.a.createElement(C,null),r.a.createElement(F,null),r.a.createElement(y,null))}}]),a}(r.a.Component);V.contextType=d;var R=V;var z=function(){return r.a.createElement(o.c,null,r.a.createElement(p,null,r.a.createElement(o.a,{exact:!0,path:"/",component:R}),r.a.createElement(o.a,{exact:!0,path:"/planets-starwars",component:R}),r.a.createElement(o.a,{exact:!0,path:"/info-planet",component:m})))};c.a.render(r.a.createElement(u.a,null,r.a.createElement(z,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.66f5a9ff.chunk.js.map