(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],{26:function(e,t,a){e.exports=a(41)},31:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),u=a(13),o=a(1);a(31);var i=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"title"},"Planets"),r.a.createElement("img",{src:"header.jpg",alt:"planets",width:"50%"}),r.a.createElement("h1",{className:"title"},"Star Wars"))},s=a(7),m=Object(n.createContext)();var f=function(e){var t=e.children,a=Object(n.useState)([]),l=Object(s.a)(a,2),c=l[0],u=l[1],o=Object(n.useState)(""),i=Object(s.a)(o,2),f=i[0],d=i[1],p=Object(n.useState)([]),b=Object(s.a)(p,2),E=b[0],v=b[1],h=Object(n.useState)({column:"name",sort:"ASC"}),N=Object(s.a)(h,2),j={data:c,filters:{filterByName:{name:f},filterByNumericValues:E,order:N[0]},setName:d,setPlanets:u,setFiltersValues:v,setOrder:N[1]};return r.a.createElement(m.Provider,{value:j},t)},d=a(20),p=a(21),b=a(25),E=a(24),v=a(11),h=a(3);var N=function(){var e=Object(n.useState)({column:"name",sort:"ASC"}),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useContext)(m),u=c.setOrder,o=c.data;return r.a.createElement("fieldset",{className:"fieldset-sort"},r.a.createElement("legend",null,"Sort"),r.a.createElement("label",{htmlFor:"selectSort"},"Column ",r.a.createElement("select",{id:"selectSort",value:a.name,"data-testid":"column-sort",className:"select-column-sort",onChange:function(e){return l(Object(h.a)(Object(h.a)({},a),{},{column:e.target.value}))}},o.length>0&&Object.keys(o[0]).map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("label",{htmlFor:"inputRadioAsc"},r.a.createElement("input",{className:"input-radio","data-testid":"column-sort-input-asc",id:"inputRadioAsc",type:"radio",name:"sort",value:"ASC",onClick:function(e){return l(Object(h.a)(Object(h.a)({},a),{},{sort:e.target.value}))}}),"Upward"),r.a.createElement("label",{htmlFor:"inputRadioDesc"},r.a.createElement("input",{className:"input-radio","data-testid":"column-sort-input-desc",id:"inputRadioDesc",type:"radio",name:"sort",value:"DESC",onClick:function(e){return l(Object(h.a)(Object(h.a)({},a),{},{sort:e.target.value}))}}),"Downward"),r.a.createElement("button",{"data-testid":"column-sort-button",className:"btn-sort",type:"button",onClick:function(){return u(a)}},"Sort"))};function j(e,t,a,n){var l,c,u=a.column,o=a.comparison,i=a.value,s=t.filterByNumericValues,m=["population","orbital_period","diameter","rotation_period","surface_water"];return r.a.createElement("fieldset",{className:"fieldset-filter"},r.a.createElement("legend",null,"Filters"),r.a.createElement("div",{className:"container-inputs"},r.a.createElement("label",{htmlFor:"select-column"},"Column ",r.a.createElement("select",{value:u,onChange:function(e){return n(Object(h.a)(Object(h.a)({},a),{},{column:e.target.value}))},"data-testid":"column-filter",id:"select-column"},m.filter((function(e){return!s.some((function(t){return t.column===e}))})).map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("label",{htmlFor:"select-comparison"},"Comparison ",r.a.createElement("select",{value:o,onChange:function(e){return n(Object(h.a)(Object(h.a)({},a),{},{comparison:e.target.value}))},"data-testid":"comparison-filter",id:"select-comparison"},r.a.createElement("option",null,"bigger then"),r.a.createElement("option",null,"smaller then"),r.a.createElement("option",null,"equal"))),r.a.createElement("label",{htmlFor:"input-filter"},"Value ",r.a.createElement("input",{className:"input-value",value:i,onChange:function(e){return n(Object(h.a)(Object(h.a)({},a),{},{value:e.target.value}))},"data-testid":"value-filter",id:"input-filter",type:"number"})),r.a.createElement("button",{className:"btn-filter","data-testid":"button-filter",disabled:!u||!o||!i,onClick:function(){e([].concat(Object(v.a)(s),[a])),n({column:m.filter((function(e){return![].concat(Object(v.a)(s),[a]).some((function(t){return t.column===e}))}))[0],comparison:"bigger then",value:""})},type:"button"},"+Filter")),(c=e,(l=s).map((function(e){return r.a.createElement("div",{className:"container-list-filters","data-testid":"filter",key:e.column},r.a.createElement("p",null,"+ ".concat(e.column," ").concat(e.comparison," ").concat(e.value," ")),r.a.createElement("button",{className:"btn-delete-filter",onClick:function(){return c(l.filter((function(t){return t.column!==e.column})))},type:"button"},"\u2717"))}))))}var O=function(){var e=Object(n.useState)({column:"population",comparison:"bigger then",value:""}),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useContext)(m),u=c.setName,o=c.setFiltersValues,i=c.filters;return r.a.createElement("div",{className:"container-filters-main"},function(e){return r.a.createElement("input",{className:"input-planet","data-testid":"name-filter",id:"inputSearch",onChange:function(t){return e(t.target.value)},placeholder:"Insert Planet \ud83d\udd0d"})}(u),r.a.createElement("div",{className:"container-filters"},r.a.createElement(N,null),j(o,i,a,l)))};var g=function(){return r.a.createElement("div",{className:"container-footer"},r.a.createElement("p",{className:"footer-company"},"ADC - Azevedo Digital Company / CNPJ: 39.324.590/0001-43 / Rua Cleonice Ap. Cruz K. Thielle, 350 - Mogi Gua\xe7\xfa, SP / rafaelazevedo321@gmail.com"))};function C(e,t){return e<t?-1:t>e?1:0}function y(e,t){var a=t.column;return"ASC"===t.sort?e.sort((function(e,t){return Number(e[a])?e[a]-t[a]:C(e[a],t[a])})):e.sort((function(e,t){return Number(e[a])?t[a]-e[a]:C(t[a],e[a])}))}function k(e){return e.length>0?r.a.createElement("div",{className:"table-info"},(t=Object.keys(e[0]),r.a.createElement("tr",{className:"cell-title"},t.map((function(e){return r.a.createElement("th",{key:e},e)})),r.a.createElement("th",null,"INFO"))),e.map((function(e){return t=Object.values(e),r.a.createElement("tr",{className:"cell-info"},t.map((function(e,t){return 0===t?r.a.createElement("td",{"data-testid":"planet-name",className:"cell-table",key:e},e):r.a.createElement("td",{className:"cell-table",key:e},e)})),r.a.createElement("td",{className:"cell-table"},r.a.createElement(u.b,{className:"link-info",to:"/info-planet"},"More")));var t}))):r.a.createElement("span",null,"Planets not found");var t}function S(e,t){var a;return t.filterByNumericValues.forEach((function(t){var n=t.column,r=t.comparison,l=t.value;switch(r){case"smaller then":a=a?a.filter((function(e){return Number(e[n])<Number(l)})):e.filter((function(e){return Number(e[n])<Number(l)}));break;case"bigger then":a=a?a.filter((function(e){return Number(e[n])>Number(l)})):e.filter((function(e){return Number(e[n])>Number(l)}));break;default:a=a?a.filter((function(e){return Number(e[n])===Number(l)})):e.filter((function(e){return Number(e[n])===Number(l)}))}})),a}var x=function(){var e=Object(n.useContext)(m),t=e.data,a=e.filters,l=a.filterByNumericValues,c=a.order,u=a.filterByName.name,o=Object(v.a)(t);if(o.forEach((function(e){delete e.residents,delete e.films,delete e.created,delete e.edited,delete e.url})),o.length>0){if(u){var i=function(e,t){return e.filter((function(e){var a=e.name.toUpperCase(),n=t.toUpperCase();return a.includes(n)}))}(o,u);return l.length>0?k(y(S(i,a),c)):k(y(i,c))}return l.length>0?k(y(S(o,a),c)):k(y(o,c))}return r.a.createElement("span",null,"Loading Planets...")},w=a(17),F=a.n(w),A=a(23),P=function(){var e=Object(A.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://swapi-trybe.herokuapp.com/api/planets/");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this.context.setPlanets;P().then((function(t){return e(t.results)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(i,null),r.a.createElement(O,null),r.a.createElement(x,null),r.a.createElement(g,null))}}]),a}(r.a.Component);B.contextType=m;var D=B;var V=function(){return r.a.createElement(o.c,null,r.a.createElement(f,null,r.a.createElement(o.a,{exact:!0,path:"/",component:D}),r.a.createElement(o.a,{exact:!0,path:"/info-planet",component:i})))};c.a.render(r.a.createElement(u.a,null,r.a.createElement(V,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.965e6ed3.chunk.js.map